<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>RSVP</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Metal+Mania&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Nosifer&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>

<body class="white-bg">

    
    <div class="metal-mania-regular details-box">
        <p>Date: <strong>This Friday on the 28th </strong></p>
        <p>Door Opens: <strong>20:00 PM</strong></p>
        <p>Location: <strong>Georgiou Gennimata 34, Ampelokipoi</strong></p>
        <p>Theme: <strong>Twilight Zone</strong></p>
    </div>

    <h2 class="metal-mania-regular details-sub">Will you attend?<br>(pick a carlisle)</h2>

<!-- Add name input -->
<div style="text-align: center; margin: 30px auto;">
    <input type="text" id="guestName" placeholder="Enter your name first" 
           class="name-input">
</div>

<div class="rsvp-options">
    <button class="yes-image" onclick="submitRSVP('yes')">
        <img src="carlisle_alive.png" alt="yes">
    </button>

    <button class="no-image" onclick="submitRSVP('no')">
        <img src="carlise_dead.png" alt="no">
    </button>
</div>

<script>
function submitRSVP(response) {
    const name = document.getElementById('guestName').value.trim();
    
    if (!name) {
        alert('Please enter your name first! ðŸ¦‡');
        return;
    }
    
    // Send to Formspree
    fetch('https://formspree.io/f/xangqdrj', {
        method: 'POST',
        headers: { 
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({
            name: name,
            response: response === 'yes' ? 'YES - Will attend! âœ“' : 'NO - Cannot attend âœ—',
            timestamp: new Date().toLocaleString('en-US', { 
                timeZone: 'Europe/Athens',
                dateStyle: 'full',
                timeStyle: 'short'
            })
        })
    }).then(() => {
        // Go to yes or no page after submitting
        location.href = response + '.html';
    }).catch(err => {
        console.error('Error:', err);
        // Still go to the page even if submission fails
        location.href = response + '.html';
    });
}
</script>



</body>
</html>

